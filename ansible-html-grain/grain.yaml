name: ansible_html_generator
kind: grain
description: "Generate an HTML file with S3 bucket and Torque outputs, then copy it to repo folder"
inputs:
  bucket_name:
    type: string
    description: "Name of the S3 bucket"
  torque_output:
    type: string
    description: "Torque output URL or text"
outputs:
  html_file:
    type: string
    description: "Path to the generated HTML file"
    value: "/home/root/tmp-storage/acc2899/workspace/repository/terraform-s3-bucket/finaloutput/index.html"
steps:
  - name: Run Playbook
    type: ansible
    playbook: "ansible-html-grain/playbook.yml"
