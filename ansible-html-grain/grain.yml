name: ansible_html_generator
kind: ansible
inputs:
  bucket_name:
    type: string
    description: "Name of the S3 bucket"
  object_url:
    type: string
    description: "URL of the uploaded object"
outputs:
  html_file:
    type: file
    description: "Generated HTML file"
playbook: |
  - name: Generate HTML locally
    hosts: localhost
    connection: local
    gather_facts: no
    tasks:
      - name: Create HTML file
        copy:
          dest: "./index.html"
          content: |
            <!DOCTYPE html>
            <html>
            <head>
                <title>Torque Automation Report</title>
            </head>
            <body>
                <h1>Automation Report</h1>
                <p>S3 Bucket: {{ bucket_name }}</p>
                <p>Object URL: {{ object_url }}{{ object_url }}</a></p>
            </body>
            </html>
